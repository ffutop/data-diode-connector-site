import{_ as s,I as c,c as f,o as r,a6 as g,j as e,b as d,a as o,w as a,J as n,a8 as i}from"./chunks/framework.Cpr3xyXy.js";const P=JSON.parse('{"title":"Configuration Reference","description":"","frontmatter":{},"headers":[],"relativePath":"en/configuration_reference.md","filePath":"en/configuration_reference.md","lastUpdated":1764468807000}'),p={name:"en/configuration_reference.md"};function h(y,t,u,x,m,b){const l=c("Mermaid");return r(),f("div",null,[t[4]||(t[4]=g('<h1 id="configuration-reference" tabindex="-1">Configuration Reference <a class="header-anchor" href="#configuration-reference" aria-label="Permalink to “Configuration Reference”">​</a></h1><p>The recommended deployment method for this project is now Kubernetes (Helm) or Docker Compose.</p><p>This document explains the configuration based on the <code>values.yaml</code> structure of the Helm Chart. These parameters define the behavior of the various microservice components (Ingress/Egress, Protocol Handler, Transport Layer). When using Docker Compose, these parameters are typically mapped to environment variables or startup command arguments.</p><p>You can find the corresponding Helm Charts on ArtifactHub:</p><ul><li><a href="https://artifacthub.io/packages/helm/ffutop/data-diode-connector-ingress" target="_blank" rel="noreferrer">Ingress Proxy Helm Chart</a></li><li><a href="https://artifacthub.io/packages/helm/ffutop/data-diode-connector-egress" target="_blank" rel="noreferrer">Egress Proxy Helm Chart</a></li></ul><h2 id="ingress-proxy-configuration" tabindex="-1">Ingress Proxy Configuration <a class="header-anchor" href="#ingress-proxy-configuration" aria-label="Permalink to “Ingress Proxy Configuration”">​</a></h2><p>The Ingress proxy is deployed on the sending side of the data diode (High Security Zone/Source), responsible for receiving data from the source system, performing optional filtering, and sending it unidirectionally to the diode via UDP.</p><h3 id="core-protocol-configuration-protocolhandler" tabindex="-1">Core Protocol Configuration (<code>protocolHandler</code>) <a class="header-anchor" href="#core-protocol-configuration-protocolhandler" aria-label="Permalink to “Core Protocol Configuration (protocolHandler)”">​</a></h3><p>Determines how the Ingress side &quot;ingests&quot; data from external systems. Select the mode via <code>protocolHandler.type</code>.</p><p><strong>Common Parameters:</strong></p><ul><li><code>type</code>: Protocol type, available options are <code>&quot;kafka&quot;</code> or <code>&quot;udp&quot;</code>.</li></ul><h4 id="kafka-mode-protocolhandler-kafka" tabindex="-1">Kafka Mode (<code>protocolHandler.kafka</code>) <a class="header-anchor" href="#kafka-mode-protocolhandler-kafka" aria-label="Permalink to “Kafka Mode (protocolHandler.kafka)”">​</a></h4><p>Applicable for consuming data from Kafka topics.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>hostKafkaServer</code></td><td style="text-align:left;"><code>&quot;kafka.kafka.svc.cluster.local&quot;</code></td><td style="text-align:left;">Address of the source Kafka Broker.</td></tr><tr><td style="text-align:left;"><code>portKafkaServer</code></td><td style="text-align:left;"><code>9092</code></td><td style="text-align:left;">Port of the source Kafka Broker.</td></tr><tr><td style="text-align:left;"><code>topicName</code></td><td style="text-align:left;"><code>&quot;TestTopic&quot;</code></td><td style="text-align:left;">Name of the Kafka topic to subscribe to/consume.</td></tr><tr><td style="text-align:left;"><code>maxBytesPerPartition</code></td><td style="text-align:left;"><code>1000000</code></td><td style="text-align:left;">Maximum bytes to fetch per partition from Kafka.</td></tr><tr><td style="text-align:left;"><code>bipBufferElementCount</code></td><td style="text-align:left;"><code>2</code></td><td style="text-align:left;">Size of the internal ring buffer (unit: number of elements, approx 1MB per element).</td></tr><tr><td style="text-align:left;"><code>statsServerAddress</code></td><td style="text-align:left;"><code>&quot;0.0.0.0&quot;</code></td><td style="text-align:left;">Address of the StatsD statistics server.</td></tr><tr><td style="text-align:left;"><code>statsServerPort</code></td><td style="text-align:left;"><code>8081</code></td><td style="text-align:left;">Port of the StatsD statistics server.</td></tr></tbody></table><h4 id="udp-mode-protocolhandler-udp" tabindex="-1">UDP Mode (<code>protocolHandler.udp</code>) <a class="header-anchor" href="#udp-mode-protocolhandler-udp" aria-label="Permalink to “UDP Mode (protocolHandler.udp)”">​</a></h4><p>Applicable for receiving raw UDP packets.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>listeningPort</code></td><td style="text-align:left;"><code>1235</code></td><td style="text-align:left;">Local port listening for external UDP data input.</td></tr><tr><td style="text-align:left;"><code>bipBufferElementCount</code></td><td style="text-align:left;"><code>10</code></td><td style="text-align:left;">Size of the internal ring buffer.</td></tr></tbody></table><h3 id="transport-layer-send-configuration-transportudpsend" tabindex="-1">Transport Layer Send Configuration (<code>transportUdpSend</code>) <a class="header-anchor" href="#transport-layer-send-configuration-transportudpsend" aria-label="Permalink to “Transport Layer Send Configuration (transportUdpSend)”">​</a></h3><p>Configures how data is encapsulated and sent over the unidirectional link.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>senderAddress</code></td><td style="text-align:left;"><code>&quot;0.0.0.0&quot;</code></td><td style="text-align:left;">Local IP bound by the sending process.</td></tr><tr><td style="text-align:left;"><code>senderPort</code></td><td style="text-align:left;"><code>33333</code></td><td style="text-align:left;">Local port bound by the sending process.</td></tr><tr><td style="text-align:left;"><code>receiverAddress</code></td><td style="text-align:left;"><code>&quot;0.0.0.0&quot;</code></td><td style="text-align:left;"><strong>Target IP</strong>: The receiving IP of the Egress proxy (across the diode) or the physical diode device.</td></tr><tr><td style="text-align:left;"><code>receiverPort</code></td><td style="text-align:left;"><code>1234</code></td><td style="text-align:left;"><strong>Target Port</strong>: The receiving port on the other side of the diode.</td></tr><tr><td style="text-align:left;"><code>sendDelayMs</code></td><td style="text-align:left;"><code>5</code></td><td style="text-align:left;"><strong>Flow Control Delay</strong>: Wait time (milliseconds) after sending each UDP packet. Used to prevent overwhelming the physical diode or receiver.</td></tr><tr><td style="text-align:left;"><code>bipBufferElementCount</code></td><td style="text-align:left;"><code>10</code></td><td style="text-align:left;">Transport layer buffer size.</td></tr></tbody></table><h3 id="filter-configuration-filters" tabindex="-1">Filter Configuration (<code>filters</code>) <a class="header-anchor" href="#filter-configuration-filters" aria-label="Permalink to “Filter Configuration (filters)”">​</a></h3><p>Optional security filtering layer; multiple filters can be configured.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>enabled</code></td><td style="text-align:left;"><code>false</code></td><td style="text-align:left;">Whether to enable this filter.</td></tr><tr><td style="text-align:left;"><code>wordToFilter</code></td><td style="text-align:left;"><code>&quot;secret&quot;</code></td><td style="text-align:left;">Keyword filtering: Packets containing this string will be dropped.</td></tr><tr><td style="text-align:left;"><code>maxMessageSize</code></td><td style="text-align:left;"><code>1050000</code></td><td style="text-align:left;">Maximum allowed message size (bytes); larger messages will be dropped.</td></tr></tbody></table><h2 id="egress-proxy-configuration" tabindex="-1">Egress Proxy Configuration <a class="header-anchor" href="#egress-proxy-configuration" aria-label="Permalink to “Egress Proxy Configuration”">​</a></h2><p>The Egress proxy is deployed on the receiving side of the data diode (Low Security Zone/Destination), responsible for listening to UDP traffic from the diode, reassembling packets, and forwarding them to the target system.</p><h3 id="transport-layer-receive-configuration-transportudpreceive" tabindex="-1">Transport Layer Receive Configuration (<code>transportUdpReceive</code>) <a class="header-anchor" href="#transport-layer-receive-configuration-transportudpreceive" aria-label="Permalink to “Transport Layer Receive Configuration (transportUdpReceive)”">​</a></h3><p>Responsible for receiving the raw unidirectional UDP stream and reassembling it.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>receiverAddress</code></td><td style="text-align:left;"><code>&quot;0.0.0.0&quot;</code></td><td style="text-align:left;">Local IP bound for listening.</td></tr><tr><td style="text-align:left;"><code>receiverPort</code></td><td style="text-align:left;"><code>1234</code></td><td style="text-align:left;"><strong>Listening Port</strong>: Must match the <code>receiverPort</code> configured on the Ingress side (mapped via the diode).</td></tr><tr><td style="text-align:left;"><code>bipBufferElementCount</code></td><td style="text-align:left;"><code>10</code></td><td style="text-align:left;">Reassembly buffer size; needs to be large enough to handle fragment reassembly.</td></tr></tbody></table><h3 id="core-protocol-configuration-protocolhandler-1" tabindex="-1">Core Protocol Configuration (<code>protocolHandler</code>) <a class="header-anchor" href="#core-protocol-configuration-protocolhandler-1" aria-label="Permalink to “Core Protocol Configuration (protocolHandler)”">​</a></h3><p>Determines how the Egress side &quot;forwards&quot; data to the target system. Select the mode via <code>protocolHandler.type</code>.</p><p><strong>Common Parameters:</strong></p><ul><li><code>type</code>: Protocol type, available options are <code>&quot;kafka&quot;</code> or <code>&quot;udp&quot;</code>.</li></ul><h4 id="kafka-mode-protocolhandler-kafka-1" tabindex="-1">Kafka Mode (<code>protocolHandler.kafka</code>) <a class="header-anchor" href="#kafka-mode-protocolhandler-kafka-1" aria-label="Permalink to “Kafka Mode (protocolHandler.kafka)”">​</a></h4><p>Applicable for writing data to a target Kafka cluster.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>hostKafkaServer</code></td><td style="text-align:left;"><code>&quot;kafka.kafka.svc.cluster.local&quot;</code></td><td style="text-align:left;">Address of the target Kafka Broker.</td></tr><tr><td style="text-align:left;"><code>portKafkaServer</code></td><td style="text-align:left;"><code>9092</code></td><td style="text-align:left;">Port of the target Kafka Broker.</td></tr><tr><td style="text-align:left;"><code>inReplacement</code></td><td style="text-align:left;"><code>&quot;TestTopic&quot;</code></td><td style="text-align:left;">(Optional) Source topic remapping match string.</td></tr><tr><td style="text-align:left;"><code>outReplacement</code></td><td style="text-align:left;"><code>&quot;FinalTestTopic&quot;</code></td><td style="text-align:left;">(Optional) Actual topic name when writing to the target Kafka.</td></tr></tbody></table><h4 id="udp-mode-protocolhandler-udp-1" tabindex="-1">UDP Mode (<code>protocolHandler.udp</code>) <a class="header-anchor" href="#udp-mode-protocolhandler-udp-1" aria-label="Permalink to “UDP Mode (protocolHandler.udp)”">​</a></h4><p>Applicable for forwarding data as UDP packets to backend services.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>udpReceiverHost</code></td><td style="text-align:left;"><code>&quot;127.0.0.1&quot;</code></td><td style="text-align:left;">IP address of the backend target service.</td></tr><tr><td style="text-align:left;"><code>udpReceiverPort</code></td><td style="text-align:left;"><code>8125</code></td><td style="text-align:left;">Port of the backend target service.</td></tr></tbody></table><h2 id="general-operations-configuration" tabindex="-1">General Operations Configuration <a class="header-anchor" href="#general-operations-configuration" aria-label="Permalink to “General Operations Configuration”">​</a></h2><p>The following parameters apply to all components of both the Ingress and Egress proxies:</p><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter (Key)</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>logLevel</code></td><td style="text-align:left;"><code>&quot;Warn&quot;</code></td><td style="text-align:left;">Logging level. Options: <code>Trace</code>, <code>Debug</code>, <code>Info</code>, <code>Warn</code>, <code>Error</code>.</td></tr><tr><td style="text-align:left;"><code>fromHostSysLog</code></td><td style="text-align:left;"><code>&quot;0.0.0.0&quot;</code></td><td style="text-align:left;">Source binding address for sending Syslog.</td></tr><tr><td style="text-align:left;"><code>toHostSysLog</code></td><td style="text-align:left;"><code>&quot;127.0.0.1&quot;</code></td><td style="text-align:left;">Centralized Syslog server address.</td></tr><tr><td style="text-align:left;"><code>toPortSysLog</code></td><td style="text-align:left;"><code>8082</code></td><td style="text-align:left;">Centralized Syslog server port.</td></tr><tr><td style="text-align:left;"><code>images.&lt;component&gt;.repository</code></td><td style="text-align:left;">-</td><td style="text-align:left;">Docker image repository address for each component.</td></tr><tr><td style="text-align:left;"><code>images.&lt;component&gt;.tag</code></td><td style="text-align:left;"><code>&quot;latest&quot;</code></td><td style="text-align:left;">Image tag version.</td></tr></tbody></table><h2 id="deployment-architecture-reference" tabindex="-1">Deployment Architecture Reference <a class="header-anchor" href="#deployment-architecture-reference" aria-label="Permalink to “Deployment Architecture Reference”">​</a></h2><p>In a typical Kubernetes or Docker Compose deployment, the service mapping relationship is as follows:</p>',43)),e("ul",null,[e("li",null,[t[1]||(t[1]=e("p",null,[e("strong",null,"Ingress Pod/Container"),o(":")],-1)),(r(),d(i,null,{default:a(()=>[n(l,{id:"mermaid-626",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B%20%22themeVariables%22%3A%20%7B%20%22clusterBkg%22%3A%20%22%23ffffff%22%2C%20%22clusterBorder%22%3A%20%22%23424242%22%20%7D%7D%7D%25%25%0Agraph%20LR%0AA%5B%22protocol_handler%20(Kafka%2FUDP)%22%5D%20--%3EB%5B%22filter%20(Optional)%22%5D%20--%3E%20C%5Btransport_udp_send%5D%0AclassDef%20darkStyle%20fill%3A%23ffffff%2Cstroke%3A%23424242%2Ccolor%3A%23424242%2Cstroke-width%3A2px%0Aclass%20A%2CB%2CC%20darkStyle%3B%0A"})]),fallback:a(()=>[...t[0]||(t[0]=[o(" Loading... ",-1)])]),_:1}))]),e("li",null,[t[3]||(t[3]=e("p",null,[e("strong",null,"Egress Pod/Container"),o(":")],-1)),(r(),d(i,null,{default:a(()=>[n(l,{id:"mermaid-632",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B%20%22themeVariables%22%3A%20%7B%20%22clusterBkg%22%3A%20%22%23ffffff%22%2C%20%22clusterBorder%22%3A%20%22%23424242%22%20%7D%7D%7D%25%25%0Agraph%20LR%0AA%5Btransport_udp_receive%5D%20--%3E%20B%5B%22filter%20(Optional)%22%5D%20--%3E%20C%5B%22protocol_handler%20(Kafka%2FUDP)%22%5D%0AclassDef%20darkStyle%20fill%3A%23ffffff%2Cstroke%3A%23424242%2Ccolor%3A%23424242%2Cstroke-width%3A2px%0Aclass%20A%2CB%2CC%20darkStyle%3B%0A"})]),fallback:a(()=>[...t[2]||(t[2]=[o(" Loading... ",-1)])]),_:1}))])]),t[5]||(t[5]=e("p",null,[o("Configuration changes are primarily achieved by modifying the Helm "),e("code",null,"values.yaml"),o(" file or overriding the corresponding Docker environment variables.")],-1))])}const v=s(p,[["render",h]]);export{P as __pageData,v as default};
